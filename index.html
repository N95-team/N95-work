<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Game Portal</title>
  <style>
    body {
      background-color: #000;
      color: #0ff;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      padding-top: 50px;
    }
    .box {
      margin: 30px auto;
      padding: 20px;
      border: 2px solid #0ff;
      width: 60%;
      border-radius: 8px;
      background: rgba(0, 255, 255, 0.05);
      display: none;
    }
    input[type="text"], input[type="password"] {
      padding: 10px;
      margin: 10px;
      width: 60%;
      border: none;
      border-bottom: 2px solid #0ff;
      background: transparent;
      color: #fff;
      font-size: 16px;
    }
    button {
      padding: 10px 20px;
      background: #0ff;
      color: #000;
      font-weight: bold;
      border: none;
      cursor: pointer;
      margin: 10px;
      transition: transform 0.2s ease;
    }
    button:hover {
      transform: scale(1.05);
    }
    #message {
      color: red;
      font-weight: bold;
    }
    @keyframes fadeSlide {
      0% { opacity: 0; transform: translateY(-20px); }
      20% { opacity: 1; transform: translateY(0); }
      80% { opacity: 1; transform: translateY(0); }
      100% { opacity: 0; transform: translateY(20px); }
    }
    .slideshow {
      font-size: 32px;
      color: #0ff;
      font-weight: bold;
      animation: fadeSlide 3s ease-in-out infinite;
    }
  </style>
</head>
<body>
  <div class="box" id="introBox">
    <div class="slideshow" id="slideshowText"></div>
    <p>Welcome to the ultimate cricket player portal!</p>
  </div>

  <div class="box" id="rulesBox">
    <h2>üìú Rules</h2>
    <ul style="list-style: none; padding-left: 0;">
      <li>1Ô∏è‚É£ Don‚Äôt hack into the Website</li>
      <li>2Ô∏è‚É£ Don‚Äôt hack into the Players</li>
      <li>3Ô∏è‚É£ Maintain Calmness</li>
      <li>4Ô∏è‚É£ Any queries? Contact <strong>8736883934</strong> on WhatsApp</li>
    </ul>
  </div>

  <div class="box" id="loginBox">
    <h2>üîê Login</h2>
    <input type="text" id="username" placeholder="Enter username">
    <br>
    <input type="password" id="password" placeholder="Enter password">
    <br>
    <button onclick="login()">Login</button>
    <button onclick="skip()">Skip</button>
    <p id="message"></p>
  </div>

  <script>
    const messages = [
      "üåü Created by Aarav Pastor üåü",
      "üöÄ Designed with Cricket Passion",
      "üéÆ Neon Vibes + Epic Selection",
      "üõ†Ô∏è Built by Tanjiro‚Äôs Vision"
    ];
    let index = 0;
    const slideshowText = document.getElementById("slideshowText");

    function cycleText() {
      slideshowText.textContent = messages[index];
      index = (index + 1) % messages.length;
    }

    document.getElementById("introBox").style.display = "block";
    cycleText();
    setInterval(cycleText, 3000);

    setTimeout(() => {
      document.getElementById("rulesBox").style.display = "block";
    }, 6000);

    setTimeout(() => {
      document.getElementById("loginBox").style.display = "block";
    }, 12000);

    const validUsers = [
      "Aryan Upadhyay", "Tejas Gupta", "Shreyash Shukhla", "Akshit Shukhla",
      "Aarav Pastor (Creator)", "Arsh Singh", "Isaan", "Adavya", "Shaurya",
      "Kushagra Gowsami", "Zamam Haider", "Earth Ahuja", "Neerav Kumar",
      "Darsh Srivastava", "Subh", "Akkie", "Vignesh", "Akshit Jha",
      "Ayush", "Rishabh"
    ];

    function login() {
      const user = document.getElementById('username').value.trim();
      const pass = document.getElementById('password').value.trim();
      const message = document.getElementById("message");

      if (user === "" || pass === "") {
        message.innerText = "Please enter both username and password.";
        return;
      }

      const storedPass = localStorage.getItem(`user_${user}`);

      if (storedPass === null) {
        message.innerText = "Username not found. Please create a password first.";
        return;
      }

      if (pass === storedPass) {
        window.location.href = "index3.html";
      } else {
        message.innerText = "Password is incorrect";
      }
    }

    function skip() {
      window.location.href = "index2.html";
    }

    // Dynamic Button Logic: Create or Forgot Password
    const loginBox = document.getElementById("loginBox");

    const createBtn = document.createElement("button");
    createBtn.textContent = "Create a Password";
    createBtn.onclick = () => window.location.href = "password.html";
    createBtn.style.float = "right";
    createBtn.style.marginRight = "20%";

    const forgotBtn = document.createElement("button");
    forgotBtn.textContent = "Forgot Password";
    forgotBtn.onclick = () => window.location.href = "forgotpass.html";
    forgotBtn.style.float = "right";
    forgotBtn.style.marginRight = "20%";

    document.getElementById("username").addEventListener("input", function () {
      const name = this.value.trim();

      // Remove both buttons first
      if (loginBox.contains(createBtn)) loginBox.removeChild(createBtn);
      if (loginBox.contains(forgotBtn)) loginBox.removeChild(forgotBtn);

      if (!validUsers.includes(name)) return;

      const hasPassword = localStorage.getItem(`user_${name}`) !== null;

      if (hasPassword) {
        loginBox.appendChild(forgotBtn);
      } else {
        loginBox.appendChild(createBtn);
      }
    });
  </script>
</body>
</html>
